{"ast":null,"code":"import React,{useEffect,useContext}from\"react\";import{useHistory}from\"react-router-dom\";import{UserContext}from\"../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Logout=function Logout(){// promises\nvar _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var history=useHistory();useEffect(function(){fetch(\"/logout\",{method:\"GET\",headers:{Accept:\"appllication/json\",\"Content-Type\":\"application/json\"},credentials:\"include\"}).then(function(res){dispatch({type:\"USER\",payload:false});history.push(\"/login\",{replace:true});if(res.status!==200){var error=new Error(res.error);throw error;}}).catch(function(err){console.log(err);});});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Logout ka page\"})});};export default Logout;","map":{"version":3,"sources":["C:/Users/adars/OneDrive/Desktop/PersonalWesite/server/frontend/src/components/Logout.js"],"names":["React","useEffect","useContext","useHistory","UserContext","Logout","state","dispatch","history","fetch","method","headers","Accept","credentials","then","res","type","payload","push","replace","status","error","Error","catch","err","console","log"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,KAA6C,OAA7C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,WAAT,KAA4B,QAA5B,C,gGAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB;AACA,gBAA4BH,UAAU,CAACE,WAAD,CAAtC,CAAQE,KAAR,aAAQA,KAAR,CAAeC,QAAf,aAAeA,QAAf,CACA,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CAEAF,SAAS,CAAC,UAAM,CACdQ,KAAK,CAAC,SAAD,CAAY,CACfC,MAAM,CAAE,KADO,CAEfC,OAAO,CAAE,CACPC,MAAM,CAAE,mBADD,CAEP,eAAgB,kBAFT,CAFM,CAMfC,WAAW,CAAE,SANE,CAAZ,CAAL,CAQGC,IARH,CAQQ,SAACC,GAAD,CAAS,CACbR,QAAQ,CAAC,CAAES,IAAI,CAAE,MAAR,CAAgBC,OAAO,CAAE,KAAzB,CAAD,CAAR,CACAT,OAAO,CAACU,IAAR,CAAa,QAAb,CAAuB,CAAEC,OAAO,CAAE,IAAX,CAAvB,EACA,GAAIJ,GAAG,CAACK,MAAJ,GAAe,GAAnB,CAAwB,CACtB,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,KAAJ,CAAUP,GAAG,CAACM,KAAd,CAAd,CACA,KAAMA,CAAAA,KAAN,CACD,CACF,CAfH,EAgBGE,KAhBH,CAgBS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAlBH,EAmBD,CApBQ,CAAT,CAsBA,mBACE,sCACE,sCADF,EADF,CAKD,CAhCD,CAkCA,cAAenB,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../App\";\r\n\r\nconst Logout = () => {\r\n  // promises\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetch(\"/logout\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"appllication/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        dispatch({ type: \"USER\", payload: false });\r\n        history.push(\"/login\", { replace: true });\r\n        if (res.status !== 200) {\r\n          const error = new Error(res.error);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h1>Logout ka page</h1>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Logout;\r\n"]},"metadata":{},"sourceType":"module"}